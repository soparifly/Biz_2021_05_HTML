<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      p {
        border: 1px solid blue;
        padding: 2rem;
        margin: 10px;
      }

      .through-text {
        background-color: yellow;
        text-decoration: line-through red;
      }
    </style>
    <script>
      //document 가 모두 완성되면
      // DOMcontentLoaded Event는 화면에 HTML로 만든 요소가
      // 모두 그려진 후에 실행되는 코드
      // 이항 목이 없으면 각 요소에 설정하는 event를 적용하기위하여
      // script 코드가 항상 HTML문서의 끝에 위치해야한다
      // 이 event 로 인해서 script의 위치에 관계없이
      // 요소에 적절한 event를 설정할  수 있다
      document.addEventListener("DomContentLoaded", () => {
        document
          .querySelector("div.main")
          //function(e){}
          //(e)=>{} :화살표 함수
          .addEventListener("dblclick", (e) => {
            // let text = e.target.textContent;
            alert(text);
            //div 내부에서 선택된 tag의 바탕색을 red로 설정하라
            // e.target.style.backgroundColor = "red";
            // e.target.textDecoration = "line-through";
            //e.target= p tag
            //c최초에는 className=''상태이다
            let className = e.target.className;
            alert(className);

            //className이''인 상태는 if등 비교연산자 연산을 하면 그 값은
            //false이다
            //만약 className이 ''이 아니면 즉 어떤 문자열이 담겨있으면
            //if 등 비교연산자 연산에서는 걀과가 true가 된다/
            /*
            div.main을 더블클릭하면 div가 감싸고 잇는 p tag들에게 동시에 더블 클릭이 전달된다
            설정된 더블클릭 이벤트에서 e.target은 div가 감ㅆ가ㅗ잇는 ptag중에 한개가 된다 

            결국 div.main이 감싸고 있는 세개의 p tag에 더블클릭 이벤트를 설정한 것 과 같은 결과가 된다
            ptag가 클릭되면 클릭된 p tag의 클래스이름으 ㄹ검사하여 클래스이름이 ''이면
            p tag에 thrgh- text라는 클래스를 지정하고 그렇지않으면 (''이 아니면)
            p taㅎdp ''이라는 클래스를 지정하여
            클래스를 제거한다
            p tag에 throuth-text클래스가 지정되면 style에 미리 설정해놓은 
            .through-text 클래스의 속성이 p tag에 적용된다.
          */
            className = className ? "" : "through-text";
            e.target.className = className;
          });
      });
    </script>
  </head>
  <body>
    <div class="main">
      <p id="p1">우리나라 만세</p>
      <p id="p2">대한민국 만세</p>
      <p id="p3">Republic of kOrea</p>
    </div>
  </body>
</html>
